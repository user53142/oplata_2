/*! For license information please see 46.6e14a05329.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{"/lw1":function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.a=function(e){var t=r(e.split("?"),2)[1];return decodeURIComponent(t).split("&").reduce(function(e,t){var n=r(t.split("="),2),o=n[0],a=n[1];return e[o]=a,e},{})}},"3sL5":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),a=n("1VCr");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.default=function(e){var t=Object(r.memo)(function(t){return o.a.createElement(a.a.Consumer,null,function(n){var r=n.showPopup;return o.a.createElement(e,i({},t,{showAuthPopup:r}))})});return t.initialAction=e.initialAction,t}},"4fRq":function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},"50T/":function(e,t,n){e.exports={root:"_1efZu",loaderContainer:"_2lat_",listContainer:"_3jDAL",item:"_37jvh"}},A54X:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),a=n("ANjH"),i=n("/MKj"),c=n("AXJN"),s=n("/lw1");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};u(l,"getCategories",function(e,t){return e.get("/api/1/abuse/categories",{params:t})}),u(l,"send",function(e,t){return e.post("/api/1/abuse/report",t)});var f="Abuse/GET_CATEGORIES",p="Abuse/GET_CATEGORIES_SUCCESS",m="Abuse/GET_CATEGORIES_FAIL",d="Abuse/SEND",h="Abuse/SEND_SUCCESS",b="Abuse/SEND_FAIL",y="Abuse/RESET_DATA";function v(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){v(a,r,o,i,c,"next",e)}function c(e){v(a,r,o,i,c,"throw",e)}i(void 0)})}}function O(e){return function(){var t=g(regeneratorRuntime.mark(function t(n,r,o){var a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.axios,n({type:f}),t.prev=2,t.next=5,l.getCategories(a,e);case 5:i=t.sent,n({type:p,res:i.data.result}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),n({type:m});case 12:case"end":return t.stop()}},t,null,[[2,9]])}));return function(e,n,r){return t.apply(this,arguments)}}()}function w(e){return function(){var t=g(regeneratorRuntime.mark(function t(n,r,o){var a,i,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.axios,n({type:d}),t.prev=2,t.next=5,l.send(a,e);case 5:if(i=t.sent,"incorrect-data"!==(c=i.data).status){t.next=10;break}return n({type:b,comment:c.result.messages.comment}),t.abrupt("return",!1);case 10:return n({type:h,completeData:{title:c.result.title,description:c.result.description},complete:!e.verifyOnly}),t.abrupt("return",!0);case 14:return t.prev=14,t.t0=t.catch(2),t.abrupt("return",t.t0);case 17:case"end":return t.stop()}},t,null,[[2,14]])}));return function(e,n,r){return t.apply(this,arguments)}}()}function C(){return{type:y}}var j=n("t760"),E=n("3sL5"),_=n("mfht"),I=n("8L5U"),k=n("3dzz"),S=n("TSYQ"),P=n.n(S),A=n("ZGsk"),N=n.n(A);function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var x=function(e){var t=e.iconType,n=e.onClickIcon,r=e.additionalAction;return o.a.createElement("div",{className:N.a.header},o.a.createElement("div",{className:N.a.headerTopBlock},o.a.createElement("div",D({className:N.a.back},Object(I.role)(e,"back"),{onClick:function(){n(!1)}}),o.a.createElement("i",{className:P()(N.a["icon-".concat(t)],N.a.icon)})),o.a.createElement("div",{className:N.a.title},"Жалоба"),r?o.a.createElement("div",{className:N.a.rightButton,onClick:function(){r.onAction()}},r.caption):null))};x.defaultProps={iconType:"close"};var T=Object(r.memo)(x),R=n("50T/"),F=n.n(R);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e,t,n){for(var r=0;r<e.length;r++){if(e[r].id===t)return{items:e,parentId:n};if(e[r].subcategories){var o=J(e[r].subcategories,t,e[r].id);if(o)return o}}return null}var G=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return z(q(n=function(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?q(e):t}(this,(e=U(t)).call.apply(e,[this].concat(a)))),"state",{items:null,parentId:null}),z(q(n),"renderLoader",function(){return o.a.createElement("div",{className:F.a.loaderContainer},o.a.createElement(k.default,{marker:"loader",size:"middle"}))}),z(q(n),"renderContent",function(){return n.state.items.map(function(e){return o.a.createElement("div",B({},Object(I.role)(n.props,e.id),{key:e.id,className:F.a.item,onClick:function(){n.handleClickItem(e)}}),e.title)})}),z(q(n),"handleClickItem",function(e){e.subcategories?n.setCategories(e.subcategories,e.id):n.chooseCategory(e.id)}),z(q(n),"handleClickHeaderIcon",function(){var e=n.props,t=e.onClose,r=e.categories,o=n.state.parentId;if(o){var a=J(r,o);n.setCategories(a.items,a.parentId)}else t()}),z(q(n),"chooseCategory",function(e){(0,n.props.onChoose)(e)}),z(q(n),"setCategories",function(e,t){n.setState({items:e,parentId:t})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,r["PureComponent"]),function(e,t,n){t&&H(e.prototype,t),n&&H(e,n)}(t,[{key:"componentDidMount",value:function(){(0,this.props.getCategories)()}},{key:"render",value:function(){var e=this.props.isFetch,t=this.state,n=t.items,r=t.parentId;return o.a.createElement("div",B({className:F.a.root},Object(I.role)(this.props)),o.a.createElement(T,{marker:"header",iconType:r?"back":"close",onClickIcon:this.handleClickHeaderIcon}),o.a.createElement("div",B({className:F.a.listContainer},Object(I.role)(this.props,"category-list")),e||!n?this.renderLoader():this.renderContent()))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!t.items){var n=e.selectedId?J(e.categories,e.selectedId):{items:e.categories};return{items:n.items,parentId:n.parentId}}return null}}]),t}(),V=n("O4qq"),X=n("gNh2"),K=n("z02U"),Q=n.n(K);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=[{id:1,name:"pouting"},{id:2,name:"frowning"},{id:3,name:"confused"},{id:4,name:"neutral"},{id:5,name:"slightly-smiling"}],oe=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return ne(ee(n=function(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?ee(e):t}(this,(e=$(t)).call.apply(e,[this].concat(i)))),"state",{initialized:!1,comment:"",emotion:null}),ne(ee(n),"renderEmotionChooser",function(){var e=n.state.emotion;return o.a.createElement(r.Fragment,null,o.a.createElement("div",{className:Q.a.smileChooserTitle},"Что вы чувствуете"),o.a.createElement("div",W({className:Q.a.emotions},Object(I.role)(n.props,"emotions ")),re.map(function(t){return o.a.createElement("div",W({},Object(I.role)(n.props,"smiles-"+t.name),{key:t.name,className:P()(Q.a.emotion,Q.a["emotion-".concat(t.name)],ne({},Q.a["emotion-selected"],e===t.id)),onClick:function(){n.handleChooseEmotion(t.id)}}))})))}),ne(ee(n),"handleSendAction",function(){var e=n.state,t=e.comment,r=e.emotion;(0,n.props.onConfirm)(t,r)}),ne(ee(n),"handleChangeComment",function(e){n.setState({comment:e.target.value})}),ne(ee(n),"handleChooseEmotion",function(e){var t=n.state.emotion;n.setState({emotion:t===e?null:e})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(t,r["PureComponent"]),function(e,t,n){t&&Z(e.prototype,t),n&&Z(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.onClose,r=t.error,a=this.state.comment;return o.a.createElement("div",{className:Q.a.root},o.a.createElement(T,{marker:"header",iconType:"back",onClickIcon:n,additionalAction:{caption:"Отправить",onAction:function(){e.handleSendAction()}}}),o.a.createElement(V.a,{marker:"textarea",className:Q.a.textarea,value:a,onInputChange:this.handleChangeComment,placeholder:"Опишите ситуацию"}),r?o.a.createElement("div",W({},Object(I.role)(this.props,"error"),{className:Q.a["error-container"]}),o.a.createElement(X.a,{text:r,type:"error"})):null,o.a.createElement("div",{className:Q.a.separator}),this.renderEmotionChooser())}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.initialized?null:{initialized:!0,comment:e.comment,emotion:e.emotion}}}]),t}(),ae=n("p4b+"),ie=n.n(ae);function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var se=Object(r.memo)(function(e){var t=e.title,n=e.description,r=e.onClose,a=e.src;return o.a.createElement("div",ce({className:ie.a.root},Object(I.role)(e)),o.a.createElement(T,{marker:"header",onClickIcon:r}),o.a.createElement("div",{className:ie.a.content},o.a.createElement("div",{className:ie.a.data},o.a.createElement("i",{className:ie.a.icon}),o.a.createElement("div",Object(I.role)(e,"content"),o.a.createElement("div",{className:ie.a.title},t),o.a.createElement("div",{className:ie.a.description},n))),"messenger"===a?o.a.createElement("div",{className:ie.a.buttons},o.a.createElement("div",ce({},Object(I.role)(e,"back"),{className:P()(ie.a.button,ie.a.confirmButton),onClick:r}),"Вернуться к чату"),o.a.createElement("div",ce({},Object(I.role)(e,"delete"),{className:P()(ie.a.button,ie.a.inputButton)}),"Удалить чат")):null))}),ue=n("rrlF"),le=n.n(ue);function fe(){return(fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var pe=Object(r.memo)(function(e){var t=e.onClose,n=e.onConfirm,r=e.onAuth;return o.a.createElement("div",fe({className:le.a.root},Object(I.role)(e)),o.a.createElement(T,{marker:"header",onClickIcon:t,iconType:"back"}),o.a.createElement("div",fe({className:le.a.content},Object(I.role)(e,"content")),o.a.createElement("div",null,o.a.createElement("div",{className:le.a.title},"Ваша жалоба готова к отправке"),o.a.createElement("div",{className:le.a.description},"Авторизуйтесь и вы получите уведомление, если объявление заблокируют после проверки.")),o.a.createElement("div",{className:le.a.buttons},o.a.createElement("div",fe({},Object(I.role)(e,"send"),{className:P()(le.a.button,le.a.confirmButton),onClick:n}),"Отправить"),o.a.createElement("div",fe({},Object(I.role)(e,"enter"),{className:P()(le.a.button,le.a.inputButton),onClick:r}),"Войти"))))}),me=n("YmHl"),de=n.n(me);function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(n,!0).forEach(function(t){Ee(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t,n){return t&&we(e.prototype,t),n&&we(e,n),e}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _e="ABUSE_DATA",Ie="HISTORY_HACK_VALUE_FIELD";function ke(e,t){var n=sessionStorage.getItem(_e);(n=n?JSON.parse(n):{})[e]=t,sessionStorage.setItem(_e,JSON.stringify(n))}var Se=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ee(Oe(n=function(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?Oe(e):t}(this,ge(t).call(this,e))),"state",{abuseData:null}),Ee(Oe(n),"renderLoader",function(){return o.a.createElement("div",{className:de.a.loader},o.a.createElement(k.default,{marker:"loader",size:"middle"}))}),Ee(Oe(n),"renderComment",function(){var e=n.props.error,t=n.state.abuseData;return o.a.createElement(oe,{marker:"comment",error:e,comment:t.comment,emotion:t.emotion,onConfirm:n.handleConfirmComment,onClose:n.handleCloseComment})}),Ee(Oe(n),"renderCategory",function(){var e=n.props,t=e.isCategoriesFetch,r=e.categories;return o.a.createElement(G,{marker:"category",isFetch:t,categories:r,getCategories:n.getCategories,onClose:n.handleCloseCategory,onChoose:n.handleChooseCategory})}),Ee(Oe(n),"renderAuth",function(){return o.a.createElement(pe,{marker:"auth",onClose:n.handleCloseAuth,onAuth:n.handleAuth,onConfirm:function(){n.send(!1)}})}),Ee(Oe(n),"handleCloseCategory",function(){n.close()}),Ee(Oe(n),"handleCloseAuth",function(){var e=n.state.abuseData,t=e.categoryId,r=e.comment,o=e.emotion;n.setAbuseData({categoryId:t,comment:r,emotion:o})}),Ee(Oe(n),"handleChooseCategory",function(e){n.setAbuseData({categoryId:e})}),Ee(Oe(n),"handleCloseComment",function(){n.setAbuseData({})}),Ee(Oe(n),"handleConfirmComment",function(e,t){var r=n.isAuth().isAuth,o=n.state.abuseData;n.setAbuseData(ve({},o,{comment:e,emotion:t}),function(){n.send(!r)})}),Ee(Oe(n),"handleComplete",function(){var e=n.getQueries().successUrl;e?window.location=e:n.close()}),Ee(Oe(n),"handleAuth",function(){var e=n.props,t=e.history,r=e.showAuthPopup,o=t.location;sessionStorage.setItem(Ie,t.length),r(encodeURIComponent("".concat(o.pathname).concat(o.search)))}),Ee(Oe(n),"send",function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){be(a,r,o,i,c,"next",e)}function c(e){be(a,r,o,i,c,"throw",e)}i(void 0)})}}(regeneratorRuntime.mark(function e(t){var r,o,a,i,c,s,u,l,f,p,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props,o=r.actions.send,a=r.showNotification,i=n.state,c=i.abuseData,s=c.categoryId,u=c.comment,l=c.emotion,f=i.abuseData,p=n.getItemId(),e.next=5,o({itemId:p,src:n.getSrc(),abuseCategoryId:s,comment:u,emotion:l,verifyOnly:t});case 5:if(!((m=e.sent)instanceof Error)){e.next=10;break}return a({message:m.response.data.result.message}),n.close(),e.abrupt("return");case 10:m&&t&&n.setAbuseData(ve({},f,{verified:!0}));case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),Ee(Oe(n),"getCategories",function(){var e=n.props;(0,e.actions.getCategories)({itemId:e.match.params.id,src:"item"})}),Ee(Oe(n),"isAuth",function(){var e=n.props.user;return Boolean(e&&e.id)}),Ee(Oe(n),"setAbuseData",function(e,t){n.setState({abuseData:e},t),ke(n.getItemId(),e)}),Ee(Oe(n),"close",function(){var e=n.props.history;n.resetData(),e.goBack()}),Ee(Oe(n),"getItemId",function(){return n.props.match.params.id}),Ee(Oe(n),"getSrc",function(){return n.getQueries().src||"messenger"}),Ee(Oe(n),"getQueries",function(){var e=n.props.history;return Object(s.a)(e.location.search)}),Ee(Oe(n),"redirectToMessenger",function(){n.resetData(),window.location="".concat(document.referrer).concat(document.referrer.includes("?")?"&":"?","abuseSent")}),Ee(Oe(n),"resetData",function(){n.props.complete&&ke(n.getItemId(),{})});var r=e.match;return n.state={abuseData:function(e){var t=sessionStorage.getItem(_e);return t&&(t=JSON.parse(t))[e]||{}}(r.params.id)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(t,r["PureComponent"]),Ce(t,null,[{key:"initialAction",value:function(){return[]}}]),Ce(t,[{key:"componentDidMount",value:function(){var e=this.isAuth(),t=this.props,n=t.history,r=t.complete,o=this.state.abuseData,a=sessionStorage.getItem(Ie);a&&(sessionStorage.removeItem(Ie),n.go(a-n.length)),!r&&o.categoryId&&o.verified&&e&&this.send(),Object(c.default)({eid:2454,iid:this.getItemId(),s:this.getSrc(),version:1})}},{key:"componentWillUnmount",value:function(){(0,this.props.actions.resetData)(),this.resetData()}},{key:"render",value:function(){var e=this.state.abuseData,t=this.isAuth(),n=this.props,r=n.completeData,a=n.complete;return e?a?"messenger"===this.getSrc()?(this.redirectToMessenger(),null):o.a.createElement(se,{marker:"complete",title:r.title,description:r.description,src:this.getSrc(),onClose:this.handleComplete}):e.categoryId?e.verified?t?this.renderLoader():this.renderAuth():this.renderComment():this.renderCategory():null}}]),t}();var Pe=Object(a.compose)(Object(i.connect)(function(e){var t=e.abuse;return{isCategoriesFetch:t.isCategoriesFetch,categories:t.categories,error:t.error,completeData:t.completeData,complete:t.complete}},function(e){return{actions:Object(a.bindActionCreators)({getCategories:O,send:w,resetData:C},e),dispatch:e}}),j.a,E.default,_.default)(Se);function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(n,!0).forEach(function(t){De(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xe={categories:null,error:null,completeData:null};n.d(t,"info",function(){return Te});var Te={id:"abuse",reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Ne({},e,{isCategoriesFetch:!0});case p:return Ne({},e,{isCategoriesFetch:!1,categories:t.res.categories});case m:return Ne({},e,{isCategoriesFetch:!1,categories:null});case h:return Ne({},e,{completeData:t.completeData,complete:t.complete});case b:return Ne({},e,{error:t.comment});case y:return Ne({},xe);default:return e}},initialState:xe};t.default=Pe},AXJN:function(e,t,n){"use strict";n.r(t);var r,o=n("xk4V"),a=n.n(o);if("undefined"==typeof window)r=function(){return new Promise(function(e){return e({})})};else{var i=window.location.origin;window.performance&&window.performance.navigation&&1===window.performance.navigation.type||function(e){return window.document.referrer&&window.document.referrer.startsWith(e)}(i)||window.localStorage.removeItem("last-ref-id"),window.sessionStorage.tabId=window.sessionStorage.tabId||a()();var c=window.sessionStorage.tabId,s=function(){var e=window.localStorage.getItem("last-ref-id"),t=a()();return window.localStorage.setItem("last-ref-id",t),{refId:t,parentRefId:e,tabId:c}};r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/events/add";for(var n in e)e.hasOwnProperty(n)&&null===e[n]&&(e[n]=void 0);var r=s(),o=r.refId,a=r.parentRefId,i=r.tabId;return e.ref_id=o||"",e.parent_ref_id=a||"",e.tab_id=i||"",fetch(t,{method:"post",headers:{"Content-type":"application/json; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},credentials:"include",body:JSON.stringify(e)}).then(function(e){return e.status>=400?Promise.reject(e):{response:e,refId:o,parentRefId:a,tabId:i}})}}t.default=r},FE11:function(e,t,n){e.exports={marker:"sn7pg","marker-error":"_3YA-h","marker-warning":"_2LneV","marker-info":"_1i_Fs"}},I2ZF:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},O4qq:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("i8i4"),i=n("8L5U");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return d(p(n=function(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?p(e):t}(this,(e=f(t)).call.apply(e,[this].concat(o)))),"handleInputChange",function(e){n.updateContainerHeight(),n.props.onInputChange&&n.props.onInputChange(e)}),d(p(n),"updateContainerHeight",function(){var e=n.textarea,t=e.offsetHeight-e.clientHeight;e.style.height="",e.style.height=e.scrollHeight+t+"px"}),d(p(n),"focus",function(){Object(a.findDOMNode)(n.textarea).focus()}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,r["PureComponent"]),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"componentDidMount",value:function(){this.props.autoFocus&&this.focus(),this.updateContainerHeight()}},{key:"render",value:function(){var e=this,t=this.props,n=(t.onInputChange,t.marker,u(t,["onInputChange","marker"]));return o.a.createElement("textarea",s({},Object(i.role)(this.props),{ref:function(t){return e.textarea=t},rows:"1",onChange:this.handleInputChange},n))}}]),t}();d(h,"defaultProps",{autoFocus:!1}),t.a=h},YmHl:function(e,t,n){e.exports={loader:"gGE5u"}},ZGsk:function(e,t,n){e.exports={root:"_3KbVc",loaderContainer:"wO7Fd",header:"_177EQ",headerTopBlock:"_2Kmtv",back:"_65Xg3","icon-back":"_326bb","icon-close":"_3NhTa",icon:"_17FFz",title:"_1ON5_",rightButton:"_2WbsD"}},gNh2:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("FE11"),i=n.n(a),c=n("8L5U"),s=n("TSYQ"),u=n.n(s);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e){return o.a.createElement("div",l({className:u()(i.a.marker,i.a["marker-".concat(e.type)])},Object(c.role)(e)),e.text)}f.defaultProps={type:"error"},t.a=f},"p4b+":function(e,t,n){e.exports={root:"vMhku",content:"f8T4J",data:"_1PEk7",icon:"_3uREa",title:"_2skYM",description:"_3N0mf",buttons:"_1l_7N",button:"Q_LaN",inputButton:"_1K2UD",confirmButton:"xGH-6"}},rrlF:function(e,t,n){e.exports={root:"_2OkaK",content:"_3b-cF",title:"Dv9hA",description:"_1jD1B",buttons:"_8T-CO",button:"T9o22",inputButton:"_2k9xK",confirmButton:"_1f6wq"}},t760:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("Cba9");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){var t=Object(r.memo)(function(t){return o.a.createElement(a.a.Consumer,null,function(n){var r=n.showNotification;return o.a.createElement(e,i({},t,{showNotification:r}))})});return t.initialAction=e.initialAction,t}},xk4V:function(e,t,n){var r=n("4fRq"),o=n("I2ZF");e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var c=0;c<16;++c)t[a+c]=i[c];return t||o(i)}},z02U:function(e,t,n){e.exports={root:"_16AXy",textarea:"PBzJd",separator:"_2S3JD",smileChooserTitle:"_2tROm",emotions:"_2dXyp",emotion:"_-3RPT","emotion-selected":"_3MRHP","emotion-confused":"_28QNl","emotion-frowning":"_1WPL2","emotion-neutral":"_3fXEq","emotion-pouting":"_2Kp9_","emotion-slightly-smiling":"bOn5f","error-container":"_2AR--"}}}]);